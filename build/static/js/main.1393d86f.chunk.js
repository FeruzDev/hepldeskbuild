(this["webpackJsonpapp-help-desk"]=this["webpackJsonpapp-help-desk"]||[]).push([[0],{683:function(e,t,c){},685:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(23),i=c.n(s),a=c(9),l=c(0),r=function(){return Object(l.jsx)("div",{className:"side-bar",children:Object(l.jsxs)("div",{className:"left-colums",children:[Object(l.jsx)(a.c,{to:"/tickets",className:"side-bar-imgs  ",activeClassName:"active-link",children:Object(l.jsx)("img",{src:"/img/side-bar-first.png",alt:"side-bar"})}),Object(l.jsx)(a.c,{to:"/agents",className:"side-bar-imgs",activeClassName:"active-link",children:Object(l.jsx)("img",{src:"/img/side-bar-second.png",alt:"side-bar"})}),Object(l.jsx)(a.c,{to:"/report",className:"side-bar-imgs",activeClassName:"active-link",children:Object(l.jsx)("img",{src:"/img/side-bar-thrid.png",alt:"side-bar"})})]})})},o=c(19),j=c(7),d=c.n(j),b="http://w1.citynet.uz:4440/",u="help-desk",h="LOGIN",m="UPDATE_STATE",g=c(15);function O(e){return{type:m,payload:e}}function x(e,t,c){return function(t){d.a.get(b+"ticket/v1/list/?page="+(e||"1"),{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(c){t(O({getTickets:c.data.data})),t(O({pageIndex:e})),t(O({AllCount:c.data}))})).catch((function(e){console.log(e)}))}}function p(e){return function(t){d.a.get(b+"ticket/v1/list-own/?page="+(e||"1"),{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getTicketsToHandle:e.data.data})),t(O({btc:e.data}))})).catch((function(e){console.log(e)}))}}function f(e){return function(t){d.a.get(b+"ticket/v1/list-own?status=Open&page="+(e||"1"),{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getOpenTickets:e.data.data})),t(O({boc:e.data}))})).catch((function(e){console.log(e)}))}}function v(e,t,c){return function(n){d.a.get(b+"ticket/v1/list-own?start_date="+e+"&end_date="+t+"&page="+(c||"1"),{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){n(O({getLastDaysTickets:e.data.data})),n(O({bot:e.data}))})).catch((function(e){console.log(e)}))}}function k(){return function(e){d.a.get(b+"ticket/v1/status-list/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(O({ticketStatusList:t.data.data})),e(O({ticketStatusList:t.data.data}))})).catch((function(e){console.log(e)}))}}function N(e){return function(t){d.a.get(b+"ticket/v1/retrieve-update/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({ticketInfoObject:e.data.data}))})).catch((function(e){console.log(e)}))}}function A(e,t){return function(c){d.a.patch(b+"ticket/v1/retrieve-update/"+e+"/",{ticket_status:t},{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){c(x()),c(v()),c(f()),c(p()),c(N())})).catch((function(e){c(x()),c(v()),c(f()),c(p())}))}}function w(e,t){return function(c){d.a.patch(b+"ticket/v1/retrieve-update/"+e+"/",{priority:t},{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){c(x()),c(v()),c(f()),c(p())})).catch((function(e){c(x()),c(v()),c(f()),c(p())}))}}function C(e,t){return function(c){d.a.get(b+"review/v1/list-create/"+e+"/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(n){c(O({commitList:n.data.data})),c(O({selectedCommitId:e})),t.push("commit/"+e)})).catch((function(e){}))}}function S(){return function(e){d.a.get(b+"ticket/v1/list?status=Open",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(O({openCount:t.data}))}))}}function y(){return function(e){d.a.get(b+"ticket/v1/list?status=Pending",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(O({PendingCount:t.data}))}))}}function T(){return function(e){d.a.get(b+"ticket/v1/list?status=Closed",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(O({ClosedCount:t.data}))}))}}function L(){return function(e){d.a.get(b+"user/v1/get-user/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(O({getAccount:t.data.data}))})).catch((function(e){console.log("err")}))}}function D(e,t){return function(t){d.a.post(b+"user/v1/password-change/",e).then((function(e){g.b.success("Check your email")}))}}function I(){return function(e){d.a.get(b+"user/v1/list/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(O({getAllAgentsList:t.data.data}))})).catch((function(e){console.log(e)}))}}function _(e,t,c){return function(n){var s=new FormData;s.append("full_name",e.full_name),s.append("phone",e.phone),s.append("team",e.team),s.append("email",c),d.a.put(b+"user/v1/update/"+t+"/",s,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){g.b.success("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")})).catch((function(e){Object(g.b)(e)}))}}function F(e,t){return function(c){console.log(e),t.push("/agents/info-account-edit/"+e.id)}}var P=c(10),B=Object(P.b)((function(e){return{getAccount:e.createAgentData.getAccount,getTicketsToHandle:e.ticketData.getTicketsToHandle}}),{getInfoAccount:L,getAllTicketToHandle:p})((function(e){var t;return Object(n.useEffect)((function(){e.getInfoAccount(),e.getAllTicketToHandle()}),[]),Object(l.jsxs)("div",{className:"all-tickets-right",children:[Object(l.jsxs)(a.b,{to:"/tickets/tickets-to-handle",className:"bell-icon",children:[Object(l.jsx)("img",{src:"/img/icon/bellFree.png"}),(null===(t=e.getTicketsToHandle)||void 0===t?void 0:t.filter((function(e){return!e.is_read})).length)>0?Object(l.jsx)("img",{src:"/img/icon/ordot.png",className:"orange-dot"}):""]}),Object(l.jsxs)(a.c,{to:"agents/info-account",className:"d-flex",children:[Object(l.jsx)("div",{className:"account-img",children:Object(l.jsx)("img",{src:e.getAccount.image?e.getAccount.image:"/img/icon/account.png",alt:"account"})}),Object(l.jsxs)("div",{className:"account-name",children:[Object(l.jsx)("h4",{className:"open-sans-light",children:e.getAccount.full_name?e.getAccount.full_name:"Agents name"}),Object(l.jsx)("h6",{className:"open-sans-light",children:e.getAccount.email?e.getAccount.email:"Agents email"})]})]})]})})),E=Object(P.b)((function(e){return{openCount:e.ticketData.openCount,PendingCount:e.ticketData.PendingCount,ClosedCount:e.ticketData.ClosedCount,AllCount:e.ticketData.AllCount,subAllTickets:e.ticketData.subAllTickets,subOpen:e.ticketData.subOpen,subClosed:e.ticketData.subClosed,subPending:e.ticketData.subPending}}),{OpenStatusCount:S,todayTicket:function(e){return function(t){d.a.get(b+"ticket/v1/list?status=Open&start_date="+e+"&end_date="+e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({subOpen:e.data}))})),d.a.get(b+"ticket/v1/list?status=Pending&start_date="+e+"&end_date="+e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({subPending:e.data}))})),d.a.get(b+"ticket/v1/list?status=Closed&start_date="+e+"&end_date="+e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({subClosed:e.data}))})),d.a.get(b+"ticket/v1/list?start_date="+e+"&end_date="+e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({subAllTickets:e.data}))})),d.a.get(b+"ticket/v1/list-own?is_read=false",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({todayNoOpened:e.data}))}))}},PendingStatusCount:y,getAllTicket:x,ClosedStatusCount:T})((function(e){var t=new Date;t.setDate(t.getDate()-7);var c=new Date,s=c.getDate(),i=c.getMonth()+1,a=c.getFullYear()+"-"+i+"-"+s;return Object(n.useEffect)((function(){e.OpenStatusCount(),e.ClosedStatusCount(),e.PendingStatusCount(),e.getAllTicket(),e.todayTicket(a)}),[]),Object(l.jsx)("div",{className:"sub-navbar-menu",children:Object(l.jsxs)("div",{className:"sub-navbar-menu-child",children:[Object(l.jsxs)("div",{className:"tickets-count",children:[Object(l.jsx)("div",{className:"gm-father",children:Object(l.jsx)("img",{src:"/img/icon/gm1.png",alt:""})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h1",{children:[e.AllCount.count,Object(l.jsxs)("span",{children:["+",e.subAllTickets.count?e.subAllTickets.count:"0"]})]}),Object(l.jsx)("p",{children:"All tickets"})]})]}),Object(l.jsxs)("div",{className:"tickets-count",children:[Object(l.jsx)("div",{className:"gm-father",children:Object(l.jsx)("img",{src:"/img/icon/gm2.png",alt:""})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h1",{children:[e.openCount.count,Object(l.jsxs)("span",{children:["+",e.subOpen.count?e.subOpen.count:"0"]})]}),Object(l.jsx)("p",{children:"Open"})]})]}),Object(l.jsxs)("div",{className:"tickets-count",children:[Object(l.jsx)("div",{className:"gm-father",children:Object(l.jsx)("img",{src:"/img/icon/gm3.png",alt:""})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h1",{children:[e.PendingCount.count,Object(l.jsxs)("span",{children:["+",e.subPending.count?e.subPending.count:"0"]})]}),Object(l.jsx)("p",{children:"Pending"})]})]}),Object(l.jsxs)("div",{className:"tickets-count",children:[Object(l.jsx)("div",{className:"gm-father",children:Object(l.jsx)("img",{src:"/img/icon/gm4.png",alt:""})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h1",{children:[e.ClosedCount.count,Object(l.jsxs)("span",{children:["+",e.subClosed.count?e.subClosed.count:"0"]})]}),Object(l.jsx)("p",{children:"Closed"})]})]})]})})})),z=c(13),M=Object(P.b)((function(e){return{getTickets:e.ticketData.getTickets,AllCount:e.ticketData.AllCount,ticketStatusList:e.ticketData.ticketStatusList,pageIndex:e.ticketData.pageIndex}}),{getAllTicket:x,changeTicketPr:w,getAllTicketNext:function(e){return function(t){d.a.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getTickets:e.data.data}))})).catch((function(e){console.log(e)}))}},getAllTicketPrev:function(e){return function(t){d.a.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getTickets:e.data.data}))})).catch((function(e){console.log(e)}))}},getCommit:C,changeTicketStatus:A,getStatusList:k})((function(e){for(var t=Object(n.useState)(0),c=Object(z.a)(t,2),s=c[0],i=c[1],a=Object(n.useState)(5),r=Object(z.a)(a,2),j=(r[0],r[1],Object(n.useState)(5)),d=Object(z.a)(j,2),b=(d[0],d[1],Object(n.useState)(2)),u=Object(z.a)(b,2),h=(u[0],u[1],Object(n.useState)(0)),m=Object(z.a)(h,2),g=(m[0],m[1],function(t){e.getAllTicket(Number(t.target.id))}),O=[],x=1;x<=Math.ceil(e.AllCount.last_page);x++)O.push(x);var p=O.map((function(t){return Object(l.jsx)("li",{id:t,onClick:g,className:e.pageIndex==t?"active":null,children:t},t)}));Object(n.useEffect)((function(){e.getAllTicket(e.pageIndex),e.getStatusList(),e.getCommit(),e.changeTicketStatus()}),[]);var f=Object(o.f)(),v=function(t,c){e.changeTicketPr(t,c)};return Object(l.jsxs)("div",{className:"main-table-for-tickets",children:[Object(l.jsxs)("table",{children:[Object(l.jsxs)("tr",{className:"main-table-header",children:[Object(l.jsx)("th",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsx)("th",{children:"Requester"}),Object(l.jsx)("th",{children:"Subject"}),Object(l.jsx)("th",{children:"Agent"}),Object(l.jsx)("th",{children:"Status"}),Object(l.jsx)("th",{children:"Last message"}),Object(l.jsx)("th",{}),Object(l.jsx)("th",{})]}),e.getTickets.map((function(t,c){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsxs)("td",{className:"requester-name",onClick:function(){return c=t.id,void e.getCommit(c,f);var c},style:{cursor:"pointer"},children:[Object(l.jsx)("h4",{children:t.client_full_name}),Object(l.jsx)("span",{children:t.sender_name})]}),Object(l.jsxs)("td",{className:"subject-name",children:[1===t.priority?Object(l.jsx)("img",{src:"/img/icon/open.png",alt:""}):2===t.priority?Object(l.jsx)("img",{src:"/img/icon/fast.png",alt:""}):0===t.priority?Object(l.jsx)("img",{src:"/img/icon/onHold.png",alt:""}):-1===t.priority?Object(l.jsx)("img",{src:"/img/icon/close.png",alt:""}):-2===t.priority?Object(l.jsx)("img",{src:"/img/icon/pw.png",alt:""}):""," "+t.subject]}),Object(l.jsx)("td",{children:t.receiver_name}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"Open"===t.ticket_status_name?"open":"Closed"===t.ticket_status_name?"closed":"Pending"===t.ticket_status_name?"pending":"",children:t.ticket_status_name})}),Object(l.jsxs)("td",{children:[Object(l.jsxs)("h4",{style:{fontSize:"14px",marginBottom:"0"},children:["   ",t.date_created.slice(11,16)," "]}),Object(l.jsxs)("span",{style:{color:"#8E8C94",fontSize:"12px"},children:[" ",t.date_created.slice(0,10)]})]}),Object(l.jsxs)("td",{className:"all-tickets-event-menu-father dropdown",children:[Object(l.jsx)("button",{className:"all-tickets-event dropbtn",children:Object(l.jsx)("img",{src:"/img/icon/verDots.png",alt:""})}),Object(l.jsxs)("div",{className:"all-tickets-event-menu dropdown-content",children:[e.ticketStatusList.map((function(c){return Object(l.jsx)("button",{onClick:function(){return n=t.id,s=c.id,void e.changeTicketStatus(n,s);var n,s},children:c.name})})),Object(l.jsx)("img",{src:"/img/icon/Divider.png",alt:""}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,2)},children:[Object(l.jsx)("img",{src:"/img/icon/fast.png",className:"mr-2",alt:""})," Urgent"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,1)},children:[Object(l.jsx)("img",{src:"/img/icon/open.png",className:"mr-2",alt:""})," High"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,0)},children:[Object(l.jsx)("img",{src:"/img/icon/onHold.png",className:"mr-2",alt:""})," Medium"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,-1)},children:[Object(l.jsx)("img",{src:"/img/icon/close.png",className:"mr-2",alt:""})," Low"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,-2)},children:[Object(l.jsx)("img",{src:"/img/icon/pw.png",className:"mr-2",alt:""})," Very low"]})]})]})]},c)}))]}),Object(l.jsxs)("ul",{className:"pageNumbers d-flex p-2  ",children:[Object(l.jsx)("li",{className:"ml-3",children:Object(l.jsx)("button",{className:"p-left",onClick:function(){i(s-1),e.getAllTicketPrev(e.AllCount.previous)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke169.png",alt:""})})}),p,Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"p-right",onClick:function(){i(s+1),e.getAllTicketNext(e.AllCount.next)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke168.png",alt:""})})})]})]})})),H=Object(P.b)((function(e){return{ticketStatusList:e.ticketData.ticketStatusList,btc:e.ticketData.btc,boc:e.ticketData.boc,bot:e.ticketData.bot,AllCount:e.ticketData.AllCount,getTicketsToHandle:e.ticketData.getTicketsToHandle,getOpenTickets:e.ticketData.getOpenTickets,openCount:e.ticketData.openCount,PendingCount:e.ticketData.PendingCount,ClosedCount:e.ticketData.ClosedCount,getTickets:e.ticketData.getTickets}}),{getStatusList:k,getTicketsSevenDays:v,getAllTicketToHandle:p,updateState:O,getAllTicketForSearch:function(e,t){return function(c){console.log(t);var n=t.filter((function(t){return t.subject.includes(e)}));d.a.get(b+"ticket/v1/list/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){c(O({getTickets:n}))})).catch((function(e){console.log(e)}))}},getMyOpenTicket:f,getAllTicket:x,filterStatusFunction:function(e){return function(t){d.a.get(b+"ticket/v1/list/?status="+e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getTickets:e.data.data}))})).catch((function(e){console.log(e)}))}}})((function(e){var t=new Date;t.setDate(t.getDate()-7);var c=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),s=new Date,i=s.getDate(),r=s.getMonth()+1,o=s.getFullYear()+"-"+r+"-"+i;Object(n.useEffect)((function(){e.getStatusList(),e.getMyOpenTicket(),e.getAllTicketToHandle(),e.getAllTicket(),e.getTicketsSevenDays(c,o)}),[]);return Object(l.jsx)("div",{className:"side-bar-menus",children:Object(l.jsxs)("div",{className:"side-bar-menus-child",children:[Object(l.jsx)("h1",{className:"open-sans-extra-bold",children:"Tickets"}),Object(l.jsxs)(a.b,{to:"/tickets/new-ticket",className:"new-ticket open-sans-extra-bold",children:[Object(l.jsx)("img",{src:"/img/icon/plus.png",alt:"plus icon"}),"New ticket"]}),Object(l.jsxs)("div",{className:"ticket-search",children:[Object(l.jsx)("img",{src:"/img/icon/loupe.png",alt:""}),Object(l.jsx)("input",{type:"text",onChange:function(t){e.getTickets.filter((function(e){return e.subject.includes(t.target.value)}));e.getAllTicketForSearch(t.target.value,e.getTickets)},placeholder:"Search..."})]}),Object(l.jsxs)("div",{className:"menus",children:[Object(l.jsx)(a.b,{to:"/tickets/all-tickets",className:"    w-100",children:Object(l.jsxs)("button",{onClick:function(){e.getAllTicket()},className:" p-0 ",children:[Object(l.jsx)("span",{children:"All tickets"}),Object(l.jsx)("span",{className:"",children:e.AllCount.count})]})}),Object(l.jsxs)(a.b,{to:"/tickets/tickets-to-handle",children:[Object(l.jsx)("span",{children:"Tickets to handle"}),Object(l.jsx)("span",{children:e.btc.count})]}),Object(l.jsxs)(a.b,{to:"/tickets/open-tickets",children:[Object(l.jsx)("span",{children:"My open tickets"}),Object(l.jsx)("span",{children:e.boc.count})]}),Object(l.jsx)("h4",{children:"My views"}),Object(l.jsxs)(a.b,{to:"/tickets/last-days",children:[Object(l.jsx)("span",{children:"My tickets in last 7 days"}),Object(l.jsx)("span",{children:e.bot.count})]}),Object(l.jsx)("h4",{children:"Statuses"}),e.ticketStatusList.map((function(t){return Object(l.jsx)("button",{onClick:function(){return c=t.name,void e.filterStatusFunction(c);var c},children:Object(l.jsx)("span",{children:t.name})})}))]})]})})}));function U(e){return{type:m,payload:e}}function q(){return function(e){d.a.get(b+"team/v1/active-list/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){e(U({activeAgentslList:t.data.data}))})).catch((function(e){return console.log(e)}))}}var R=Object(P.b)((function(e){return{getAllAgentsList:e.createAgentData.getAllAgentsList,getAccount:e.createAgentData.getAccount}}),{getAllAgents:I,getInfoAccount:L,updateInfoAccount:F})((function(e){Object(n.useEffect)((function(){e.getAllAgents(),e.getInfoAccount()}),[]);return Object(l.jsx)("div",{className:"agents-table",children:Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{}),Object(l.jsx)("th",{children:Object(l.jsxs)("button",{children:[Object(l.jsx)("img",{src:"./img/icon/arrowUpDown.png",alt:""}),"Name"]})}),Object(l.jsx)("th",{children:Object(l.jsxs)("button",{children:[Object(l.jsx)("img",{src:"./img/icon/arrowUpDown.png",alt:""}),"Role"]})}),Object(l.jsx)("th",{children:Object(l.jsx)("button",{children:"event"})})]})}),Object(l.jsx)("tbody",{children:e.getAllAgentsList?e.getAllAgentsList.map((function(t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"agents-table-body-account",children:Object(l.jsx)("img",{src:t.image?t.image:"img/icon/account3.png",alt:""})})}),Object(l.jsx)("td",{children:Object(l.jsxs)("div",{className:"agents-table-body-name",children:[Object(l.jsx)("h3",{children:t.full_name}),Object(l.jsx)("p",{children:t.email})]})}),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"agents-table-body-role",children:Object(l.jsx)("span",{className:"Admin"===t.role?"agents-role-admin":"Agent"===t.role?"agents-role-agents":"agents-role-viewer ",children:t.role})})}),Object(l.jsx)("td",{children:"Admin"===e.getAccount.role?Object(l.jsx)("button",{className:"agent-team-edit-btn",onClick:function(){return c=t,void e.updateInfoAccount(c,e.history);var c},children:Object(l.jsx)("img",{src:"/img/icon/edit.png",alt:""})}):""})]})})):""})]})})})),V=Object(P.b)((function(e){return{activeAgentslList:e.createTeamData.activeAgentslList}}),{getActiveTeamList:q,updateState:U})((function(e){Object(n.useEffect)((function(){e.getActiveTeamList()}),[]);return Object(l.jsx)("div",{className:"agents-team-table",children:Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{}),Object(l.jsx)("th",{children:Object(l.jsxs)("button",{children:[Object(l.jsx)("img",{src:"./img/icon/arrowUpDown.png",alt:""}),"Name"]})}),Object(l.jsx)("th",{children:Object(l.jsxs)("button",{children:[Object(l.jsx)("img",{src:"./img/icon/arrowUpDown.png",alt:""}),"Agents"]})}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:e.activeAgentslList?e.activeAgentslList.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:"agents-table-body-account",children:Object(l.jsx)("img",{src:"/img/icon/account3.png",alt:"account"})})}),Object(l.jsx)("td",{children:Object(l.jsxs)("div",{className:"agents-table-body-name",children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsxs)("p",{children:[e.agents_count?e.agents_count:"0"," agents "]})]})}),Object(l.jsx)("td",{children:Object(l.jsxs)("div",{className:"agents-table-body-role",children:[Object(l.jsx)("img",{src:"/img/icon/account3.png",alt:"account"}),Object(l.jsx)("img",{src:"/img/icon/account3.png",alt:"account"}),Object(l.jsx)("img",{src:"/img/icon/account3.png",alt:"account"}),Object(l.jsx)("img",{src:"/img/icon/account3.png",alt:"account"}),Object(l.jsx)("span",{children:"+20 more"})]})}),Object(l.jsx)("td",{})]})})):""})]})})})),Y=Object(P.b)((function(e){return{getAccount:e.createAgentData.getAccount,activeAgentslList:e.createTeamData.activeAgentslList}}),{getInfoAccount:L,getActiveTeamList:q})((function(e){return Object(n.useEffect)((function(){e.getInfoAccount(),e.getActiveTeamList()}),[]),Object(l.jsxs)("div",{className:"agents-details",children:[Object(l.jsx)("div",{className:"agents-details-headers d-flex justify-content-between",children:Object(l.jsx)("h2",{children:"Details"})}),Object(l.jsxs)("div",{className:"agents-details-body",children:[Object(l.jsxs)("div",{className:"account-img",children:[Object(l.jsx)("img",{src:e.getAccount.image,alt:"account"}),Object(l.jsx)("span",{children:e.getAccount.role})]}),Object(l.jsx)("h3",{children:e.getAccount.full_name}),Object(l.jsx)("p",{children:e.getAccount.email}),Object(l.jsxs)("button",{children:[Object(l.jsx)("img",{src:"/img/icon/arrow.png",alt:"omg"}),"Team"]}),Object(l.jsx)("div",{className:"team-list",children:e.activeAgentslList?e.activeAgentslList.slice(0,4).map((function(e){return Object(l.jsxs)("h4",{children:[Object(l.jsx)("img",{src:"/img/icon/account3.png"}),e.name]})})):""})]})]})})),J=Object(P.b)((function(e){return{activeAgentslList:e.createTeamData.activeAgentslList}}),{getActiveTeamList:q})((function(e){var t=Object(n.useState)(0),c=Object(z.a)(t,2);c[0],c[1];return Object(l.jsx)("div",{className:" d-flex w-100",children:Object(l.jsx)("div",{className:"agents  ",children:Object(l.jsxs)("div",{className:"w-100",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsx)("h1",{children:"Agents"}),Object(l.jsx)(B,{})]})}),Object(l.jsxs)("div",{className:"d-flex w-100 h-100",children:[Object(l.jsxs)("div",{className:"  agents-nav-tabs",children:[Object(l.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[Object(l.jsx)("li",{className:"nav-item active",children:Object(l.jsxs)("a",{className:"nav-link2  ","data-toggle":"tab",href:"#tabs-1",role:"tab",children:[Object(l.jsx)("span",{children:"Agents"}),Object(l.jsx)("span",{children:"88"})]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link2","data-toggle":"tab",href:"#tabs-2",role:"tab",children:[Object(l.jsx)("span",{children:"Team"}),Object(l.jsx)("span",{children:"25"})]})}),Object(l.jsxs)("div",{className:"nav-tabs-right-control",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:"/img/icon/loupe.png",className:"search-loupe",alt:""}),Object(l.jsx)("input",{type:"text",placeholder:"Search..."})]}),Object(l.jsxs)("div",{className:"dropdown show dropdown-add-role",children:[Object(l.jsxs)("a",{className:"btn btn-primary dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(l.jsx)("img",{src:"/img/icon/plus.png",alt:""})," Add"]}),Object(l.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(l.jsxs)(a.b,{to:"/agents/create-agent",className:"dropdown-item",href:"#",children:[" ",Object(l.jsx)("img",{src:"./img/icon/userplus.png",alt:""}),Object(l.jsx)("span",{children:"Create Agent"})]}),Object(l.jsxs)(a.b,{to:"/agents/create-team",className:"dropdown-item",href:"#",children:[" ",Object(l.jsx)("img",{src:"./img/icon/users.png",alt:""}),Object(l.jsx)("span",{children:"Create Team"})]})]})]})]}),Object(l.jsx)("div",{})]}),Object(l.jsxs)("div",{className:"tab-content",children:[Object(l.jsx)("div",{className:"tab-pane active",id:"tabs-1",role:"tabpanel",children:Object(l.jsx)(R,{history:e.history})}),Object(l.jsx)("div",{className:"tab-pane",id:"tabs-2",role:"tabpanel",children:Object(l.jsx)(V,{})})]})]}),Object(l.jsx)(Y,{})]})]})})})})),G=c(8),W=Object(P.b)((function(e){return{createTeamObject:e.createTeamData.createTeamObject}}),{createTeam:function(e){return function(t){console.log(e);var c=new FormData;c.append("name",e.name),c.append("description",e.description),d.a.post(b+"team/v1/create/",c,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){g.b.success("successfully added")})).catch((function(e){g.b.error(e)}))}}})((function(e){return Object(l.jsxs)("div",{className:"create-team-pair",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsxs)(a.b,{to:"/agents",className:"arrow-left-back",children:[Object(l.jsx)("img",{src:"/img/icon/arrowleft.png",alt:"back img"}),"Back"]}),Object(l.jsx)("h1",{children:"Create team"}),Object(l.jsx)(B,{})]})}),Object(l.jsxs)(G.AvForm,{className:"create-team-inputs",onValidSubmit:function(t,c){e.createTeam(c)},children:[Object(l.jsx)("h3",{children:"Team"}),Object(l.jsx)(G.AvField,{type:"text",name:"name",className:"form-control",placeholder:"Team Name"}),Object(l.jsx)(G.AvField,{type:"text",name:"description",className:"form-control",placeholder:"Description"}),Object(l.jsxs)("div",{className:"create-button-group",children:[Object(l.jsx)(a.b,{to:"/agents",children:"Cancel"}),Object(l.jsxs)("button",{className:"btn",children:["Create team",Object(l.jsx)("img",{src:"/img/icon/rightArrow.png",alt:""})]})]})]})]})})),$=Object(P.b)((function(e){return{createAgentObject:e.createAgentData.createAgentObject}}),{createAgent:function(e,t){return function(c){c({type:"CREATE_AGENT"});var n=new FormData;n.append("email",e.email),n.append("password",e.password),n.append("password2",e.password2),d.a.post(b+"user/v1/register/",n,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){console.log(e.data.success),t.push("/agents")}))}}})((function(e){return Object(l.jsxs)("div",{className:"create-agent-pair w-100",children:[Object(l.jsx)("div",{className:"all-tickets-navbar ",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsxs)(a.b,{to:"/agents",className:"arrow-left-back",children:[Object(l.jsx)("img",{src:"/img/icon/arrowleft.png",alt:"back img"}),"Back"]}),Object(l.jsx)("h1",{children:"Create agent"}),Object(l.jsx)(B,{})]})}),Object(l.jsx)("div",{className:"create-agent-inputs",children:Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,c){e.createAgent(c,e.history)},children:[Object(l.jsx)("h3",{children:"Team"}),Object(l.jsxs)("div",{className:"row-for-input for-email",children:[Object(l.jsx)("img",{src:"/img/icon/envelope.png",alt:""}),Object(l.jsx)(G.AvField,{name:"email",placeholder:"E-mail"})]}),Object(l.jsx)("h3",{children:"Account"}),Object(l.jsxs)("div",{className:"row-for-input",children:[Object(l.jsx)(G.AvField,{name:"password",placeholder:"Password"}),Object(l.jsx)(G.AvField,{name:"password2",placeholder:"Verify password"})]}),Object(l.jsxs)("div",{className:"create-button-group",children:[Object(l.jsx)(a.b,{to:"/agents",children:"Cancel"}),Object(l.jsxs)("button",{className:"btn",type:"submit",children:["Create agent",Object(l.jsx)("img",{src:"/img/icon/rightArrow.png",alt:""})]})]})]})})]})}));function K(e,t){return function(c){c({type:h});var n=new FormData;n.append("email",e.email),n.append("password",e.password),d.a.post(b+"user/v1/login/",n).then((function(e){localStorage.setItem(u,e.data.data.tokens.access),t.push("/tickets"),window.location.reload()})).catch((function(e){console.log(e)}))}}var Q=Object(P.b)((function(e){return{isLoading:e.login.isLoading}}),{LoginUser:K})((function(e){return Object(l.jsx)("div",{className:"login-page",children:Object(l.jsxs)("div",{className:"login-form-group",children:[Object(l.jsx)("h3",{children:"Log in"}),Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,c){e.LoginUser(c,e.history)},children:[Object(l.jsx)(G.AvField,{name:"email",required:!0,placeholder:"Email",type:"text"}),Object(l.jsx)(G.AvField,{name:"password",required:!0,placeholder:"Password",type:"password"}),Object(l.jsx)("div",{type:"submit",className:"create-button-group",children:Object(l.jsxs)("button",{type:"submit",className:"btn w-100",children:["Submit",Object(l.jsx)("img",{src:"/img/icon/rightArrow.png",alt:""})]})})]}),Object(l.jsx)("div",{className:"forgot-password mt-3 text-center",children:Object(l.jsx)(a.b,{to:"/forgot-password",children:"Forgot password?"})})]})})})),X=c(77),Z=c(78),ee=c(81),te=c(80),ce=c(79),ne=c.n(ce),se=function(e){Object(ee.a)(c,e);var t=Object(te.a)(c);function c(e){var n;return Object(X.a)(this,c),(n=t.call(this,e)).state={series:[44,55,13,33,23,13],options:{chart:{width:380,type:"donut"},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}],legend:{position:"right",offsetY:0,height:230}}},n}return Object(Z.a)(c,[{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{class:"chart-wrap",children:Object(l.jsxs)("div",{id:"chart",children:[Object(l.jsx)("h3",{children:"Tickets"}),Object(l.jsx)(ne.a,{options:this.state.options,series:this.state.series,type:"donut",width:380})]})})})}}]),c}(n.Component),ie=function(e){Object(ee.a)(c,e);var t=Object(te.a)(c);function c(e){var n;return Object(X.a)(this,c),(n=t.call(this,e)).state={series:[{name:"Net Profit",data:[44,55,57,56,61,58,63,60,66]},{name:"Revenue",data:[76,85,101,98,87,105,91,114,94]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:""}},fill:{opacity:1,colors:["#003CFF","#D96FF8"]},dropShadow:{enabled:!0,top:0,left:0,blur:3,opacity:.5},grid:{row:{colors:["#fff"]},column:{colors:["#fff"]}},tooltip:{y:{formatter:function(e){return"$ "+e+" thousands"}}}}},n}return Object(Z.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("div",{id:"chart",children:[Object(l.jsx)("h3",{children:"Tickets"}),Object(l.jsx)(ne.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})]})}}]),c}(n.Component),ae=function(e){Object(ee.a)(c,e);var t=Object(te.a)(c);function c(e){var n;return Object(X.a)(this,c),(n=t.call(this,e)).state={series:[44,55,67,83],options:{chart:{height:280,type:"radialBar"},plotOptions:{radialBar:{dataLabels:{name:{fontSize:"22px"},value:{fontSize:"16px"},total:{show:!0,label:"Total",formatter:function(e){return 249}}}}}}},n}return Object(Z.a)(c,[{key:"render",value:function(){return Object(l.jsxs)("div",{id:"chart",children:[Object(l.jsx)("h3",{children:"Priority"}),Object(l.jsx)(ne.a,{options:this.state.options,series:this.state.series,type:"radialBar",height:280})]})}}]),c}(n.Component),le=function(){return Object(l.jsxs)("div",{className:"permission-pair",children:[Object(l.jsx)("h3",{children:"Permission"}),Object(l.jsxs)("div",{className:"title-per",children:[Object(l.jsx)("span",{children:"Permissions"}),Object(l.jsx)("span",{children:"Users"})]}),Object(l.jsxs)("div",{className:"title-con",children:[Object(l.jsxs)("div",{className:"title-con-item",children:[Object(l.jsxs)("h4",{children:[Object(l.jsx)("span",{children:Object(l.jsx)("img",{src:"/img/icon/AdminIcon.png",alt:"img"})}),"Admin"]}),Object(l.jsx)("h4",{children:"11"})]}),Object(l.jsxs)("div",{className:"title-con-item",children:[Object(l.jsxs)("h4",{children:[Object(l.jsx)("span",{children:Object(l.jsx)("img",{src:"/img/icon/AgentsIcon.png",alt:"img"})}),"Agents"]}),Object(l.jsx)("h4",{children:"14"})]}),Object(l.jsxs)("div",{className:"title-con-item",children:[Object(l.jsxs)("h4",{children:[Object(l.jsx)("span",{children:Object(l.jsx)("img",{src:"/img/icon/ViewerIcon.png",alt:"img"})}),"Viewer"]}),Object(l.jsx)("h4",{children:"24"})]})]})]})},re=function(){return Object(l.jsx)("div",{className:"priority-pair",children:Object(l.jsx)("h3",{children:"Priority"})})},oe=function(){return Object(l.jsxs)("div",{className:"report",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsx)("h1",{children:"Report"}),Object(l.jsx)(B,{})]})}),Object(l.jsx)(E,{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)("div",{className:"chart-pair",children:Object(l.jsx)(se,{})})}),Object(l.jsx)("div",{className:"col-md-8",children:Object(l.jsx)("div",{className:"chart-pair-column",children:Object(l.jsx)(ie,{})})})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)("div",{className:"radial-bars",children:Object(l.jsx)(ae,{})})}),Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)(le,{})}),Object(l.jsx)("div",{className:"col-md-5",children:Object(l.jsx)(re,{})})]})]})},je=Object(P.b)((function(e){return{getAccount:e.createAgentData.getAccount,activeAgentslList:e.createTeamData.activeAgentslList,openCount:e.ticketData.openCount,ClosedCount:e.ticketData.ClosedCount,AllCount:e.ticketData.AllCount}}),{getInfoAccount:L,saveFile:function(e,t){return function(c){var n=new FormData;n.append("image",e),d.a.put(b+"user/v1/update-own-image/"+t+"/",n,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){g.b.success("image update"),c(L())})).catch((function(e){g.b.error("Error !!!")}))}},OpenStatusCount:S,PendingStatusCount:y,getAllTicket:x,ClosedStatusCount:T,updateUserInfo:_,getActiveTeamList:q,changePasswordForSend:D})((function(e){Object(n.useEffect)((function(){e.getInfoAccount(),e.getActiveTeamList(),e.OpenStatusCount(),e.ClosedStatusCount(),e.PendingStatusCount(),e.getAllTicket()}),[]);return Object(l.jsxs)("div",{className:"info-account w-100",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsxs)(a.b,{to:"/agents",className:"arrow-left-back",children:[Object(l.jsx)("img",{src:"/img/icon/arrowleft.png",alt:"back img"}),"Back"]}),Object(l.jsx)("h1",{children:"Info account"}),Object(l.jsx)(B,{})]})}),Object(l.jsxs)("div",{className:"row w-100",children:[Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsxs)("div",{className:"account-img",children:[Object(l.jsx)("img",{src:e.getAccount.image,alt:""}),Object(l.jsx)("span",{children:e.getAccount.role})]}),Object(l.jsx)("h3",{children:e.getAccount.full_name}),Object(l.jsx)("p",{children:e.getAccount.email}),Object(l.jsxs)("div",{className:"count-tickets",children:[Object(l.jsxs)("h4",{children:[Object(l.jsxs)("span",{children:["  ",e.AllCount.count?e.AllCount.count:"0"]}),Object(l.jsx)("span",{children:"All tickets"})]}),Object(l.jsxs)("h4",{children:[Object(l.jsxs)("span",{children:["  ",e.ClosedCount.count]}),Object(l.jsx)("span",{children:"Closed"})]}),Object(l.jsxs)("h4",{children:[Object(l.jsxs)("span",{children:["  ",e.openCount.count]}),Object(l.jsx)("span",{children:"Open"})]})]}),Object(l.jsxs)(G.AvForm,{children:[Object(l.jsx)("h3",{className:"mb-3",children:" Upload New Avatar"}),Object(l.jsx)(G.AvField,{type:"file",id:"file",onChange:function(t){console.log(t.target.files[0]),e.saveFile(t.target.files[0],e.getAccount.id)},name:"image"})]}),Object(l.jsx)("img",{src:"/img/Border.png",className:"img-top-border",alt:""})]}),Object(l.jsxs)("div",{className:"col-md-7",children:[Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,c){e.updateUserInfo(c,e.getAccount.id)},children:[Object(l.jsx)("h3",{children:"Personality"}),Object(l.jsx)("div",{className:"row-for-input",children:Object(l.jsx)(G.AvField,{name:"full_name",placeholder:"Full name",disabled:!0,value:e.getAccount.full_name})}),Object(l.jsx)("h3",{children:"Contacts"}),Object(l.jsx)("div",{className:"row-for-input for-email",children:Object(l.jsx)(G.AvField,{name:"phone",placeholder:"Phone",disabled:!0,value:e.getAccount.phone})}),Object(l.jsx)("h3",{children:"Team"}),Object(l.jsx)("div",{className:"row-for-input",children:Object(l.jsx)(G.AvField,{type:"select",name:"team",disabled:!0,classname:"select-style",children:e.activeAgentslList?e.activeAgentslList.map((function(e){return Object(l.jsx)("option",{children:e.name})})):""})}),Object(l.jsx)("h3",{children:"Permissions"}),Object(l.jsx)("div",{className:"row-for-input"}),Object(l.jsxs)("div",{className:"create-button-group",children:[Object(l.jsxs)("div",{children:["Admin"===e.getAccount.role?Object(l.jsx)("button",{type:"submit",className:"btn",children:"Save changes"}):"",Object(l.jsx)("button",{onClick:function(){e.changePasswordForSend(e.getAccount.email,e.history)},className:"change-password-btn btn ml-3",children:"Change password"})]}),Object(l.jsx)(a.b,{to:"/agents",children:"Cancel"})]})]}),Object(l.jsx)("img",{src:"/img/Divider.png",className:"img-bottom-border",alt:""})]}),Object(l.jsx)("div",{className:"col-md-2"})]})]})})),de=Object(P.b)((function(e){return{activeAgentslList:e.createTeamData.activeAgentslList,getAllAgentsList:e.createAgentData.getAllAgentsList,ticketStatusList:e.ticketData.ticketStatusList}}),{createTIcket:function(e,t){return function(c){var n=new FormData;n.append("client_full_name",e.client_full_name),n.append("client_phone_number",e.client_phone_number),n.append("subject",e.subject),n.append("content",e.content),n.append("team",e.team),n.append("receiver",e.receiver),n.append("ticket_status",e.ticket_status),n.append("priority",e.priority),d.a.post(b+"ticket/v1/create/",n,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t.push("/tickets/all-tickets"),g.b.success("Ticket create")})).catch((function(e){g.b.error("Ticket don't create")}))}},getAllAgents:I,updateState:U,getActiveTeamList:q,getStatusList:k})((function(e){Object(n.useEffect)((function(){e.getActiveTeamList(),e.getStatusList(),e.getAllAgents()}),[]);return Object(l.jsxs)("div",{className:"new-ticket-create-page w-100",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsxs)(a.b,{to:"/tickets",className:"arrow-left-back",children:[Object(l.jsx)("img",{src:"/img/icon/arrowleft.png",alt:"back img"}),"Back"]}),Object(l.jsx)("h1",{children:"New ticket"}),Object(l.jsx)(B,{})]})}),Object(l.jsxs)(G.AvForm,{className:"create-team-inputs",onValidSubmit:function(t,c){e.createTIcket(c,e.history)},children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Subject"}),Object(l.jsx)(G.AvField,{type:"text",name:"subject",required:!0,className:"form-control",placeholder:"Subject"})]}),Object(l.jsx)("div",{className:"col-md-6"})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Client"}),Object(l.jsx)(G.AvField,{type:"text",name:"client_full_name",className:"form-control",required:!0,placeholder:"  Name"})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Phone number"}),Object(l.jsx)(G.AvField,{onFocus:function(e){document.getElementById("numberInput").value="+ 998",document.getElementById("numberInput").addEventListener("input",(function(e){var t=e.target.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/);e.target.value="+"+t[1]+" "+t[2]+" "+t[3]+" "+t[4]+" "+t[5]}))},id:"numberInput",type:"text",name:"client_phone_number",className:"form-control",required:!0,placeholder:"Phone number"})]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Team"}),Object(l.jsx)("div",{className:"multi-select2",children:Object(l.jsxs)(G.AvField,{onChange:function(t){console.log(t.target.value),console.log(e.getAllAgentsList),console.log(e.activeAgentslList),e.updateState({getAllAgentsList:e.activeAgentslList.filter((function(e){return e.id==t.target.value}))[0].agents})},type:"select",name:"team",required:!0,children:[Object(l.jsx)("option",{value:"0"}),e.activeAgentslList.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Agents"}),Object(l.jsxs)("div",{className:"multi-select",children:[Object(l.jsx)("img",{src:"/img/icon/account3.png",className:"select-img-account",alt:"account"}),Object(l.jsxs)(G.AvField,{name:"receiver",type:"select",className:"pl-5",required:!0,children:[Object(l.jsx)("option",{value:"0"}),e.getAllAgentsList.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.full_name})}))]})]})]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Ticket status"}),Object(l.jsx)("div",{className:"multi-select2",children:Object(l.jsxs)(G.AvField,{name:"ticket_status",type:"select",required:!0,children:[Object(l.jsx)("option",{value:"0"}),e.ticketStatusList.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:"Priority"}),Object(l.jsx)("div",{className:"multi-select2",children:Object(l.jsxs)(G.AvField,{name:"priority",type:"select",required:!0,children:[Object(l.jsx)("option",{value:"2",children:"Urgent"}),Object(l.jsx)("option",{value:"1",children:"High"}),Object(l.jsx)("option",{value:"0",children:"Medium"}),Object(l.jsx)("option",{value:"-1",children:"low"}),Object(l.jsx)("option",{value:"-2",children:"Very low"})]})})]})]}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)(G.AvField,{type:"textarea",name:"content",style:{height:"200px"},required:!0})})}),Object(l.jsxs)("div",{className:"create-button-group",children:[Object(l.jsx)(a.b,{to:"/agents",children:"Cancel"}),Object(l.jsxs)("button",{className:"btn",children:["Create ticket",Object(l.jsx)("img",{src:"/img/icon/rightArrow.png",alt:""})]})]})]})]})})),be=function(e){return Object(n.useEffect)((function(){var t=new URLSearchParams(e.location.search).get("token");d.a.get(b+"user/v1/verify-email/?token="+t).then((function(e){console.log(e),e.success?g.b.error("failed"):g.b.success("success")})).catch((function(e){console.log(e)}))}),[]),Object(l.jsx)("div",{})},ue=(c(536),function(){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-4 offset-4 my-5 text-center",children:[Object(l.jsx)("h4",{children:"Bunday sahifa mavjud emas!"}),Object(l.jsx)(a.b,{to:"/",children:"Bosh sahifaga o'tish"})]})})})})}),he=function(e){return localStorage.getItem(u)?Object(l.jsx)(o.a,{component:e.component,path:e.path,exact:e.exact}):Object(l.jsx)(o.a,{component:ue})},me=Object(P.b)((function(){return{}}),{getStatusList:k})((function(){return Object(l.jsxs)("div",{className:"all-tickets d-flex ",children:[Object(l.jsx)(H,{}),Object(l.jsxs)("div",{className:"all-tickets-right-pair",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsx)("h1",{children:"All tickets"}),Object(l.jsx)(B,{})]})}),Object(l.jsx)(E,{}),Object(l.jsx)(M,{})]})]})})),ge=function(e){var t=Object(n.useState)(!1),c=Object(z.a)(t,2),s=c[0],i=c[1],a=Object(n.useState)(!1),r=Object(z.a)(a,2),o=r[0],j=r[1],h=Object(n.useState)(!1),m=Object(z.a)(h,2),O=m[0],x=m[1];Object(n.useEffect)((function(){var t=new URLSearchParams(e.location.search),c=t.get("token"),n=t.get("uidb64");x(n),j(c),d.a.get(b+"user/v1/password-change-confirm/"+n+"/"+c,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){console.log(e),e.success?g.b.error("failed"):g.b.success("success"),i(!0)})).catch((function(e){console.log(e)}))}),[]);return Object(l.jsx)("div",{className:"verified-change-password w-100",children:s?Object(l.jsx)("div",{className:"login-page ",children:Object(l.jsxs)("div",{className:"login-form-group",children:[Object(l.jsx)("h3",{children:"Change password"}),Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,c){var n=new FormData;n.append("password",c.password),n.append("password2",c.password2),n.append("uidb64",O),n.append("token",o),d.a.patch(b+"user/v1/password-change-completed/",n,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){g.b.success("success"),e.history.push("/")}))},children:[Object(l.jsx)(G.AvField,{name:"password",required:!0,placeholder:"Password",type:"password"}),Object(l.jsx)(G.AvField,{name:"password2",required:!0,placeholder:"Verify password",type:"password"}),Object(l.jsx)("div",{type:"submit",className:"create-button-group",children:Object(l.jsx)("button",{type:"submit",className:"btn w-100",children:"Change"})})]})]})}):Object(l.jsxs)("div",{children:[function(){return alert("retry again")},Object(l.jsx)("button",{children:" Change password"})]})})},Oe=c(320),xe=Object(P.b)((function(e){return{ticketInfoObject:e.ticketData.ticketInfoObject,ticketStatusList:e.ticketData.ticketStatusList}}),{ticketInfo:N,getStatusList:k,changeTicketStatus:A})((function(e){var t,c,s,i;Object(n.useEffect)((function(){e.ticketInfo(window.location.pathname.split("/").pop()),e.changeTicketStatus(),e.getStatusList()}),[]);return Object(l.jsxs)("div",{className:"ticket-info-right-pair",children:[Object(l.jsxs)("div",{className:"ticket-info-right-pair-header",children:[Object(l.jsx)("h2",{children:"Details"}),Object(l.jsxs)("div",{className:"ticket-drp",children:[Object(l.jsx)("button",{className:" ticket-dropbtn",children:Object(l.jsx)("img",{src:"/img/icon/verDots.png",alt:""})}),Object(l.jsx)("div",{className:" ticket-dropdown-content",children:e.ticketStatusList.map((function(t){return Object(l.jsx)("button",{onClick:function(){return c=e.ticketInfoObject.id,n=t.id,void e.changeTicketStatus(c,n);var c,n},children:t.name})}))})]})]}),Object(l.jsxs)("div",{className:"ticket-info-right-pair-body",children:[Object(l.jsx)("h2",{children:"Ticket info"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Ticket ID:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsxs)("h6",{children:["ticketid/",e.ticketInfoObject.id]})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Created:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsxs)("h6",{children:[null===(t=e.ticketInfoObject.date_created)||void 0===t?void 0:t.slice(0,10),Object(l.jsx)("span",{children:"/"+(null===(c=e.ticketInfoObject.date_created)||void 0===c?void 0:c.slice(11,16))})]})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Last message:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsxs)("h6",{children:[null===(s=e.ticketInfoObject.date_modified)||void 0===s?void 0:s.slice(0,10),Object(l.jsx)("span",{children:"/"+(null===(i=e.ticketInfoObject.date_modified)||void 0===i?void 0:i.slice(11,16))})]})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Status:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h6",{children:e.ticketInfoObject.ticket_status_name})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Rating:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h6",{children:"Not rated"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Priority:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h6",{children:e.ticketInfoObject.from_where})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h5",{children:"Source:"})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)("h6",{children:"Created manually"})})]}),Object(l.jsx)("img",{src:"/img/Border.png",className:"w-100 mt-3",alt:""}),Object(l.jsxs)("div",{className:"ticket-responsibility mt-3",children:[Object(l.jsx)("h2",{children:"Responsibility"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[Object(l.jsx)("h3",{children:"Team"}),Object(l.jsx)("span",{className:"change",children:"Change"})]}),Object(l.jsxs)("div",{className:"ticket-team-info col-12  ",children:[Object(l.jsx)("img",{src:"/img/icon/account3.png",className:"mr-3",alt:""}),Object(l.jsx)("span",{className:"team-name",children:e.ticketInfoObject.team_name})]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[Object(l.jsx)("h3",{children:"Agent"}),Object(l.jsx)("span",{className:"change",children:"Change"})]}),Object(l.jsxs)("div",{className:"ticket-team-info col-12  ",children:[Object(l.jsx)("img",{src:"/img/icon/account3.png",className:"mr-3",alt:""}),Object(l.jsx)("span",{className:"team-name",children:e.ticketInfoObject.sender_name})]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-12 d-flex justify-content-between",children:[Object(l.jsx)("h3",{children:"Requester"}),Object(l.jsx)("span",{className:"change",children:"Change"})]}),Object(l.jsxs)("div",{className:"ticket-team-info col-12  ",children:[Object(l.jsx)("img",{src:"/img/icon/account3.png",className:"mr-3",alt:""}),Object(l.jsx)("span",{className:"team-name",children:e.ticketInfoObject.receiver_name})]})]})]})]})]})})),pe=Object(P.b)((function(e){return{commitList:e.ticketData.commitList,selectedCommitId:e.ticketData.selectedCommitId,getAccount:e.createAgentData.getAccount,ticketInfoObject:e.ticketData.ticketInfoObject}}),{getCommit:C,ticketInfo:N,sendCommit:function(e,t){return function(c){d.a.post(b+"review/v1/list-create/"+t+"/",e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(n){g.b.success("Your message send"),window.scrollTo(0,0),201===n.status&&d.a.get(b+"review/v1/list-create/"+t+"/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(t){c(O({commitList:t.data.data})),c(O({selectedCommitId:e})),document.getElementById("textContent").value=""})).catch((function(e){}))})).catch((function(e){g.b.error("Failed")}))}},getInfoAccount:L})((function(e){var t,c,s,i,r=document.URL,o=r.substr(r.lastIndexOf("/")+1);Object(n.useEffect)((function(){e.getInfoAccount(),e.ticketInfo(),e.getCommit(o),window.scrollTo(0,0)}),[]);var j=Object(n.useRef)();return Object(l.jsxs)("div",{className:"commit w-100 ",children:[Object(l.jsx)("div",{className:"all-tickets-navbar bg-white",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsxs)(a.b,{to:"/tickets/all-tickets",className:"arrow-left-back",children:[Object(l.jsx)("img",{src:"/img/icon/arrowleft.png",alt:"back img"}),"Back"]}),Object(l.jsx)("h1",{children:e.ticketInfoObject.subject}),Object(l.jsx)(B,{})]})}),Object(l.jsxs)("div",{className:"commit-main-pair",children:[Object(l.jsx)("div",{className:"commit-body ",children:Object(l.jsxs)("div",{className:"commit-list-items    ",children:[Object(l.jsxs)(Oe.a,{className:"commit-list-last-child",children:[Object(l.jsxs)("div",{className:"ticket-subject",children:[Object(l.jsxs)("p",{children:[Object(l.jsxs)("b",{children:[e.ticketInfoObject.client_full_name,":"]})," ",e.ticketInfoObject.content]}),Object(l.jsxs)("span",{children:[" ",Object(l.jsx)("b",{children:null===(t=e.ticketInfoObject)||void 0===t||null===(c=t.date_created)||void 0===c?void 0:c.slice(11,16)})]}),"    ",Object(l.jsx)("span",{className:"ml-1",children:null===(s=e.ticketInfoObject)||void 0===s||null===(i=s.date_created)||void 0===i?void 0:i.slice(0,10)})]}),e.commitList.map((function(t){return Object(l.jsx)("div",{className:e.getAccount.id===t.agent?"receiver fath-com":"sender fath-com",children:Object(l.jsxs)("div",{className:"commit-big-box ",children:[Object(l.jsx)("img",{src:"/img/icon/account2.png",alt:""}),Object(l.jsxs)("div",{className:"commit-content",children:[Object(l.jsx)("h3",{children:t.agent_name}),Object(l.jsx)("p",{children:t.message})]}),Object(l.jsxs)("span",{className:"text-right",children:[Object(l.jsxs)("b",{children:[" ",t.date_created.slice(11,16)]})," ",Object(l.jsx)("br",{}),t.date_created.slice(0,10)]})]})})}))]}),Object(l.jsxs)("div",{className:"text-box-for-send",children:[Object(l.jsx)("span",{className:"my-placeholder",children:"Your feedback"}),Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,c){e.sendCommit(c,e.ticketInfoObject.id),e.ticketInfo()},children:[Object(l.jsx)(G.AvField,{id:"textContent",name:"message",ref:j,type:"textarea"}),Object(l.jsxs)("button",{className:"btn",children:["Submit",Object(l.jsx)("img",{src:"/img/icon/rightArrow.png",alt:""})]})]})]})]})}),Object(l.jsx)("div",{className:"commit-info",children:Object(l.jsx)(xe,{})})]})]})})),fe=Object(P.b)((function(e){return{getTickets:e.ticketData.getTickets,getTicketsToHandle:e.ticketData.getTicketsToHandle,ticketStatusList:e.ticketData.ticketStatusList,btc:e.ticketData.btc}}),{getAllTicketToHandle:p,changeTicketPr:w,getCommit:C,changeTicketStatus:A,getStatusList:k})((function(e){for(var t,c=Object(n.useState)(0),s=Object(z.a)(c,2),i=s[0],a=s[1],r=Object(n.useState)(5),j=Object(z.a)(r,2),d=(j[0],j[1],Object(n.useState)(5)),b=Object(z.a)(d,2),u=(b[0],b[1],Object(n.useState)(2)),h=Object(z.a)(u,2),m=(h[0],h[1],Object(n.useState)(0)),g=Object(z.a)(m,2),O=(g[0],g[1],function(t){e.getAllTicketToHandle(Number(t.target.id))}),x=[],p=1;p<=Math.ceil(e.btc.last_page);p++)x.push(p);var f=x.map((function(t){return Object(l.jsx)("li",{id:t,onClick:O,className:e.pageIndex==t?"active":null,children:t},t)}));Object(n.useEffect)((function(){e.getAllTicketToHandle(),e.getStatusList(),e.changeTicketStatus(),e.changeTicketPr()}),[]);var v=function(t,c){e.changeTicketPr(t,c)},k=Object(o.f)();return Object(l.jsxs)("div",{className:"main-table-for-tickets",children:[Object(l.jsxs)("table",{children:[Object(l.jsxs)("tr",{className:"main-table-header",children:[Object(l.jsx)("th",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsx)("th",{children:"Requester"}),Object(l.jsx)("th",{children:"Subject"}),Object(l.jsx)("th",{children:"Agent"}),Object(l.jsx)("th",{children:"Status"}),Object(l.jsx)("th",{children:"Last message"}),Object(l.jsx)("th",{}),Object(l.jsx)("th",{})]}),null===(t=e.getTicketsToHandle)||void 0===t?void 0:t.map((function(t,c){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsxs)("td",{className:"requester-name",onClick:function(){return c=t.id,void e.getCommit(c,k);var c},style:{cursor:"pointer"},children:[Object(l.jsx)("h4",{children:t.client_full_name}),Object(l.jsx)("span",{children:t.sender_name})]}),Object(l.jsxs)("td",{className:"subject-name",children:[1===t.priority?Object(l.jsx)("img",{src:"/img/icon/open.png",alt:""}):2===t.priority?Object(l.jsx)("img",{src:"/img/icon/fast.png",alt:""}):0===t.priority?Object(l.jsx)("img",{src:"/img/icon/onHold.png",alt:""}):-1===t.priority?Object(l.jsx)("img",{src:"/img/icon/close.png",alt:""}):-2===t.priority?"iconnnn":""," "+t.subject]}),Object(l.jsx)("td",{children:t.receiver_name}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"Open"===t.ticket_status_name?"open":"Closed"===t.ticket_status_name?"closed":"Pending"===t.ticket_status_name?"pending":"",children:t.ticket_status_name})}),Object(l.jsx)("td",{children:t.date_created.slice(0,10)}),Object(l.jsxs)("td",{className:"all-tickets-event-menu-father dropdown",children:[Object(l.jsx)("button",{className:"all-tickets-event dropbtn",children:Object(l.jsx)("img",{src:"/img/icon/verDots.png",alt:""})}),Object(l.jsxs)("div",{className:"all-tickets-event-menu dropdown-content",children:[e.ticketStatusList.map((function(c){return Object(l.jsx)("button",{onClick:function(){return n=t.id,s=c.id,void e.changeTicketStatus(n,s);var n,s},children:c.name})})),Object(l.jsx)("img",{src:"/img/icon/Divider.png",alt:""}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,2)},children:[Object(l.jsx)("img",{src:"/img/icon/fast.png",className:"mr-2",alt:""})," Urgent"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,1)},children:[Object(l.jsx)("img",{src:"/img/icon/open.png",className:"mr-2",alt:""})," High"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,0)},children:[Object(l.jsx)("img",{src:"/img/icon/onHold.png",className:"mr-2",alt:""})," Medium"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,-1)},children:[Object(l.jsx)("img",{src:"/img/icon/close.png",className:"mr-2",alt:""})," Low"]}),Object(l.jsxs)("button",{onClick:function(){return v(t.id,-2)},children:[Object(l.jsx)("img",{src:"/img/icon/pw.png",className:"mr-2",alt:""})," Very low"]})]})]})]})}))]}),Object(l.jsxs)("ul",{className:"pageNumbers d-flex p-2  ",children:[Object(l.jsx)("li",{className:"ml-3",children:Object(l.jsx)("button",{className:"p-left",onClick:function(){a(i-1),e.getMyOpenTicketPrev(e.btc.previous)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke169.png",alt:""})})}),f,Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"p-right",onClick:function(){a(i+1),e.getMyOpenTicketNext(e.btc.next)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke168.png",alt:""})})})]})]})})),ve=function(){return Object(l.jsxs)("div",{className:"all-tickets d-flex ",children:[Object(l.jsx)(H,{}),Object(l.jsxs)("div",{className:"all-tickets-right-pair",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsx)("h1",{children:"Tickets to handle"}),Object(l.jsx)(B,{})]})}),Object(l.jsx)(E,{}),Object(l.jsx)(fe,{})]})]})},ke=Object(P.b)((function(e){return{getOpenTickets:e.ticketData.getOpenTickets,ticketStatusList:e.ticketData.ticketStatusList,boc:e.ticketData.boc}}),{getMyOpenTicket:f,changeTicketPr:w,getCommit:C,changeTicketStatus:A,getStatusList:k,getMyOpenTicketPrev:function(e){return function(t){d.a.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getOpenTickets:e.data.data}))})).catch((function(e){console.log(e)}))}},getMyOpenTicketNext:function(e){return function(t){d.a.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getOpenTickets:e.data.data}))})).catch((function(e){console.log(e)}))}}})((function(e){for(var t,c=Object(n.useState)(0),s=Object(z.a)(c,2),i=s[0],a=s[1],r=Object(n.useState)(5),j=Object(z.a)(r,2),d=(j[0],j[1],Object(n.useState)(5)),b=Object(z.a)(d,2),u=(b[0],b[1],Object(n.useState)(2)),h=Object(z.a)(u,2),m=(h[0],h[1],Object(n.useState)(0)),g=Object(z.a)(m,2),O=(g[0],g[1],function(t){e.getMyOpenTicket(Number(t.target.id))}),x=[],p=1;p<=Math.ceil(e.boc.last_page);p++)x.push(p);var f=x.map((function(t){return Object(l.jsx)("li",{id:t,onClick:O,className:e.pageIndex==t?"active":null,children:t},t)}));Object(n.useEffect)((function(){e.getMyOpenTicket(),e.getStatusList(),e.changeTicketStatus(),e.changeTicketPr()}),[]);var v=Object(o.f)(),k=function(t,c){e.changeTicketPr(t,c)};return Object(l.jsxs)("div",{className:"main-table-for-tickets",children:[Object(l.jsxs)("table",{children:[Object(l.jsxs)("tr",{className:"main-table-header",children:[Object(l.jsx)("th",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsx)("th",{children:"Requester"}),Object(l.jsx)("th",{children:"Subject"}),Object(l.jsx)("th",{children:"Agent"}),Object(l.jsx)("th",{children:"Status"}),Object(l.jsx)("th",{children:"Last message"}),Object(l.jsx)("th",{}),Object(l.jsx)("th",{})]}),null===(t=e.getOpenTickets)||void 0===t?void 0:t.map((function(t,c){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsxs)("td",{className:"requester-name",onClick:function(){return c=t.id,void e.getCommit(c,v);var c},style:{cursor:"pointer"},children:[Object(l.jsx)("h4",{children:t.client_full_name}),Object(l.jsx)("span",{children:t.sender_name})]}),Object(l.jsxs)("td",{className:"subject-name",children:[1===t.priority?Object(l.jsx)("img",{src:"/img/icon/open.png",alt:""}):2===t.priority?Object(l.jsx)("img",{src:"/img/icon/fast.png",alt:""}):0===t.priority?Object(l.jsx)("img",{src:"/img/icon/onHold.png",alt:""}):-1===t.priority?Object(l.jsx)("img",{src:"/img/icon/close.png",alt:""}):-2===t.priority?"iconnnn":""," "+t.subject]}),Object(l.jsx)("td",{children:t.receiver_name}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"Open"===t.ticket_status_name?"open":"Closed"===t.ticket_status_name?"closed":"Pending"===t.ticket_status_name?"pending":"",children:t.ticket_status_name})}),Object(l.jsx)("td",{children:t.date_created.slice(0,10)}),Object(l.jsxs)("td",{className:"all-tickets-event-menu-father dropdown",children:[Object(l.jsx)("button",{className:"all-tickets-event dropbtn",children:Object(l.jsx)("img",{src:"/img/icon/verDots.png",alt:""})}),Object(l.jsxs)("div",{className:"all-tickets-event-menu dropdown-content",children:[e.ticketStatusList.map((function(c){return Object(l.jsx)("button",{onClick:function(){return n=t.id,s=c.id,void e.changeTicketStatus(n,s);var n,s},children:c.name})})),Object(l.jsx)("img",{src:"/img/icon/Divider.png",alt:""}),Object(l.jsxs)("button",{onClick:function(){return k(t.id,2)},children:[Object(l.jsx)("img",{src:"/img/icon/fast.png",className:"mr-2",alt:""})," Urgent"]}),Object(l.jsxs)("button",{onClick:function(){return k(t.id,1)},children:[Object(l.jsx)("img",{src:"/img/icon/open.png",className:"mr-2",alt:""})," High"]}),Object(l.jsxs)("button",{onClick:function(){return k(t.id,0)},children:[Object(l.jsx)("img",{src:"/img/icon/onHold.png",className:"mr-2",alt:""})," Medium"]}),Object(l.jsxs)("button",{onClick:function(){return k(t.id,-1)},children:[Object(l.jsx)("img",{src:"/img/icon/close.png",className:"mr-2",alt:""})," Low"]}),Object(l.jsxs)("button",{onClick:function(){return k(t.id,-2)},children:[Object(l.jsx)("img",{src:"/img/icon/pw.png",className:"mr-2",alt:""})," Very low"]})]})]})]})}))]}),Object(l.jsxs)("ul",{className:"pageNumbers d-flex p-2",children:[Object(l.jsx)("li",{className:"ml-3 ",children:Object(l.jsx)("button",{className:"p-left ",onClick:function(){a(i-1),e.getMyOpenTicketPrev(e.boc.previous)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke169.png",alt:""})})}),f,Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"p-right",onClick:function(){a(i+1),e.getMyOpenTicketNext(e.boc.next)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke168.png",alt:""})})})]})]})})),Ne=function(){return Object(l.jsxs)("div",{className:"all-tickets d-flex ",children:[Object(l.jsx)(H,{}),Object(l.jsxs)("div",{className:"all-tickets-right-pair",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsx)("h1",{children:"My open tickets"}),Object(l.jsx)(B,{})]})}),Object(l.jsx)(E,{}),Object(l.jsx)(ke,{})]})]})},Ae=Object(P.b)((function(e){return{getOpenTickets:e.ticketData.getOpenTickets,ticketStatusList:e.ticketData.ticketStatusList,getLastDaysTickets:e.ticketData.getLastDaysTickets,bot:e.ticketData.bot}}),{getMyOpenTicket:f,changeTicketPr:w,getTicketsSevenDaysPrev:function(e){return function(t){d.a.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getLastDaysTickets:e.data.data}))})).catch((function(e){console.log(e)}))}},getTicketsSevenDaysNext:function(e){return function(t){d.a.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getLastDaysTickets:e.data.data}))})).catch((function(e){console.log(e)}))}},getTicketsSevenDays:v,getCommit:C,changeTicketStatus:A,getStatusList:k})((function(e){var t=new Date;t.setDate(t.getDate()-7);for(var c=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),s=new Date,i=s.getDate(),a=s.getMonth()+1,r=s.getFullYear()+"-"+a+"-"+i,j=Object(n.useState)(0),d=Object(z.a)(j,2),b=d[0],u=d[1],h=Object(n.useState)(5),m=Object(z.a)(h,2),g=(m[0],m[1],Object(n.useState)(5)),O=Object(z.a)(g,2),x=(O[0],O[1],Object(n.useState)(2)),p=Object(z.a)(x,2),f=(p[0],p[1],Object(n.useState)(0)),v=Object(z.a)(f,2),k=(v[0],v[1],function(t){e.getTicketsSevenDays(c,r,Number(t.target.id))}),N=function(t,c){e.changeTicketPr(t,c)},A=[],w=1;w<=Math.ceil(e.bot.last_page);w++)A.push(w);var C=A.map((function(t){return Object(l.jsx)("li",{id:t,onClick:k,className:e.pageIndex==t?"active":null,children:t},t)}));Object(n.useEffect)((function(){e.getMyOpenTicket(),e.getStatusList(),e.changeTicketStatus(),e.getTicketsSevenDays(c,r)}),[]);var S=Object(o.f)();return Object(l.jsxs)("div",{className:"main-table-for-tickets",children:[Object(l.jsxs)("table",{children:[Object(l.jsxs)("tr",{className:"main-table-header",children:[Object(l.jsx)("th",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsx)("th",{children:"Requester"}),Object(l.jsx)("th",{children:"Subject"}),Object(l.jsx)("th",{children:"Agent"}),Object(l.jsx)("th",{children:"Status"}),Object(l.jsx)("th",{children:"Last message"}),Object(l.jsx)("th",{}),Object(l.jsx)("th",{})]}),e.getLastDaysTickets?e.getLastDaysTickets.map((function(t,c){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"checkbox"})}),Object(l.jsxs)("td",{onClick:function(){return c=t.id,void e.getCommit(c,S);var c},style:{cursor:"pointer"},className:"requester-name",children:[Object(l.jsx)("h4",{children:t.client_full_name}),Object(l.jsx)("span",{children:t.sender_name})]}),Object(l.jsxs)("td",{className:"subject-name",children:[1===t.priority?Object(l.jsx)("img",{src:"/img/icon/open.png",alt:""}):2===t.priority?Object(l.jsx)("img",{src:"/img/icon/fast.png",alt:""}):0===t.priority?Object(l.jsx)("img",{src:"/img/icon/onHold.png",alt:""}):-1===t.priority?Object(l.jsx)("img",{src:"/img/icon/close.png",alt:""}):-2===t.priority?"iconnnn":""," "+t.subject]}),Object(l.jsx)("td",{children:t.receiver_name}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"Open"===t.ticket_status_name?"open":"Closed"===t.ticket_status_name?"closed":"Pending"===t.ticket_status_name?"pending":"",children:t.ticket_status_name})}),Object(l.jsx)("td",{children:t.date_created.slice(0,10)}),Object(l.jsxs)("td",{className:"all-tickets-event-menu-father dropdown",children:[Object(l.jsx)("button",{className:"all-tickets-event dropbtn",children:Object(l.jsx)("img",{src:"/img/icon/verDots.png",alt:""})}),Object(l.jsxs)("div",{className:"all-tickets-event-menu dropdown-content",children:[e.ticketStatusList.map((function(c){return Object(l.jsx)("button",{onClick:function(){return n=t.id,s=c.id,void e.changeTicketStatus(n,s);var n,s},children:c.name})})),Object(l.jsx)("img",{src:"/img/icon/Divider.png",alt:""}),Object(l.jsxs)("button",{onClick:function(){return N(t.id,2)},children:[Object(l.jsx)("img",{src:"/img/icon/fast.png",className:"mr-2",alt:""})," Urgent"]}),Object(l.jsxs)("button",{onClick:function(){return N(t.id,1)},children:[Object(l.jsx)("img",{src:"/img/icon/open.png",className:"mr-2",alt:""})," High"]}),Object(l.jsxs)("button",{onClick:function(){return N(t.id,0)},children:[Object(l.jsx)("img",{src:"/img/icon/onHold.png",className:"mr-2",alt:""})," Medium"]}),Object(l.jsxs)("button",{onClick:function(){return N(t.id,-1)},children:[Object(l.jsx)("img",{src:"/img/icon/close.png",className:"mr-2",alt:""})," Low"]}),Object(l.jsxs)("button",{onClick:function(){return N(t.id,-2)},children:[Object(l.jsx)("img",{src:"/img/icon/pw.png",className:"mr-2",alt:""})," Very low"]})]})]})]})})):""]}),Object(l.jsxs)("ul",{className:"pageNumbers d-flex p-2  ",children:[Object(l.jsx)("li",{className:"ml-3",children:Object(l.jsx)("button",{className:"p-left",onClick:function(){u(b-1),e.getTicketsSevenDaysPrev(e.bot.previous)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke169.png",alt:""})})}),C,Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"p-right",onClick:function(){e.getTicketsSevenDaysNext(e.bot.next)},children:Object(l.jsx)("img",{src:"/img/icon/Stroke168.png",alt:""})})})]})]})})),we=function(){return Object(l.jsxs)("div",{className:"all-tickets d-flex ",children:[Object(l.jsx)(H,{}),Object(l.jsxs)("div",{className:"all-tickets-right-pair",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsx)("h1",{children:"My tickets in last 7 days"}),Object(l.jsx)(B,{})]})}),Object(l.jsx)(E,{}),Object(l.jsx)(Ae,{})]})]})},Ce=Object(P.b)((function(e){return{isLoading:e.login.isLoading}}),{LoginUser:K,changePasswordForSend:D})((function(e){return Object(l.jsx)("div",{className:"login-page",children:Object(l.jsxs)("div",{className:"login-form-group",children:[Object(l.jsx)("h3",{children:"Log in"}),Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,c){e.changePasswordForSend(c)},children:[Object(l.jsx)(G.AvField,{name:"email",required:!0,placeholder:"Email",type:"text"}),Object(l.jsx)("div",{type:"submit",className:"create-button-group",children:Object(l.jsx)("button",{className:"change-password-btn btn ml-3",children:"Change password"})})]})]})})})),Se=Object(P.b)((function(e){return{getAccountForEdit:e.createAgentData.getAccountForEdit,getAccount:e.createAgentData.getAccount,activeAgentslList:e.createTeamData.activeAgentslList,openCount:e.ticketData.openCount,ClosedCount:e.ticketData.ClosedCount,AllCount:e.ticketData.AllCount}}),{getInfoAccountForEdit:function(e){return function(t){d.a.get(b+"user/v1/update/"+e+"/",{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){t(O({getAccountForEdit:e.data.data}))})).catch((function(e){console.log(e)}))}},getInfoAccount:L,saveFileForEdit:function(e,t){return function(c){var n=new FormData;n.append("image",e),d.a.put(b+"user/v1/update-own-image/"+t+"/",n,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){g.b.success("image update"),c(L())})).catch((function(e){g.b.error("Access to only owner")}))}},changeInfoAccountData:function(e,t){return console.log(e),function(c){d.a.put(b+"user/v1/update/"+t+"/",e,{headers:{Authorization:"Bearer "+localStorage.getItem(u)}}).then((function(e){c(O({getAccountForEdit:e.data.data}))})).catch((function(e){console.log(e)}))}},getActiveTeamList:q,updateInfoAccount:F,updateUserInfo:_})((function(e){var t=document.URL,c=t.substr(t.lastIndexOf("/")+1);Object(n.useEffect)((function(){e.getInfoAccountForEdit(c),e.getInfoAccount(),e.getActiveTeamList()}),[]);return Object(l.jsxs)("div",{className:"info-account w-100",children:[Object(l.jsx)("div",{className:"all-tickets-navbar",children:Object(l.jsxs)("div",{className:"all-tickets-navbar-child",children:[Object(l.jsxs)(a.b,{to:"/agents",className:"arrow-left-back",children:[Object(l.jsx)("img",{src:"/img/icon/arrowleft.png",alt:"back img"}),"Back"]}),Object(l.jsx)("h1",{children:"Info account"}),Object(l.jsx)(B,{})]})}),Object(l.jsxs)("div",{className:"row w-100",children:[Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsxs)("div",{className:"account-img",children:[Object(l.jsx)("img",{src:e.getAccountForEdit.image,alt:""}),Object(l.jsx)("span",{children:e.getAccountForEdit.role})]}),Object(l.jsx)("h3",{children:e.getAccountForEdit.full_name}),Object(l.jsx)("p",{children:e.getAccountForEdit.email}),Object(l.jsxs)("div",{className:"count-tickets",children:[Object(l.jsxs)("h4",{children:[Object(l.jsxs)("span",{children:["  ",e.AllCount.count?e.AllCount.count:"0"]}),Object(l.jsx)("span",{children:"All tickets"})]}),Object(l.jsxs)("h4",{children:[Object(l.jsxs)("span",{children:["  ",e.ClosedCount.count?e.ClosedCount.count:"0"]}),Object(l.jsx)("span",{children:"Closed"})]}),Object(l.jsxs)("h4",{children:[Object(l.jsxs)("span",{children:["  ",e.openCount.count?e.openCount:"0"]}),Object(l.jsx)("span",{children:"Open"})]})]}),Object(l.jsxs)(G.AvForm,{children:[Object(l.jsx)("h3",{className:"mb-3",children:" Upload New Avatar"}),Object(l.jsx)(G.AvField,{type:"file",id:"file",onChange:function(t){console.log(t.target.files[0]),e.saveFileForEdit(t.target.files[0],e.getAccountForEdit.id)},name:"image"})]}),Object(l.jsx)("img",{src:"/img/Border.png",className:"img-top-border",alt:""})]}),Object(l.jsxs)("div",{className:"col-md-7",children:[Object(l.jsxs)(G.AvForm,{onValidSubmit:function(t,n){e.updateUserInfo(n,c,e.getAccountForEdit.email)},model:e.getAccountForEdit,children:[Object(l.jsx)("h3",{children:"Personality"}),Object(l.jsx)("div",{className:"row-for-input",children:Object(l.jsx)(G.AvField,{name:"full_name",placeholder:"Full name",value:e.getAccountForEdit.full_name})}),Object(l.jsx)("h3",{children:"Contacts"}),Object(l.jsx)("div",{className:"row-for-input for-email",children:Object(l.jsx)(G.AvField,{name:"phone",placeholder:"Phone",value:e.getAccountForEdit.phone})}),Object(l.jsx)("h3",{children:"Team"}),Object(l.jsx)("div",{className:"row-for-input",children:Object(l.jsx)(G.AvField,{type:"select",name:"team",value:e.getAccountForEdit.team,classname:"select-style",children:e.activeAgentslList?e.activeAgentslList.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})})):""})}),Object(l.jsx)("h3",{children:"Permissions"}),Object(l.jsx)("div",{className:"row-for-input",children:Object(l.jsxs)(G.AvRadioGroup,{name:"role",value:e.getAccountForEdit.role,children:[Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(G.AvRadio,{customInput:!0,value:"Admin"}),Object(l.jsxs)("label",{children:[Object(l.jsx)("h4",{children:"Admin"}),Object(l.jsx)("p",{children:"Full access to global settings, adding new agents, subscription and all actions related to tickets."})]})]}),Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(G.AvRadio,{customInput:!0,value:"Agent"}),Object(l.jsxs)("label",{children:[Object(l.jsx)("h4",{children:"Agent"}),Object(l.jsx)("p",{children:"Access to personal settings and all actions related to tickets."})]})]}),Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(G.AvRadio,{customInput:!0,value:"Viewer",className:"b-0"}),Object(l.jsxs)("label",{children:[Object(l.jsx)("h4",{children:"Viewer"}),Object(l.jsx)("p",{children:"Viewers can read and browse tickets but can\u2019t take any actions."})]})]})]})}),Object(l.jsxs)("div",{className:"create-button-group",children:[Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",className:"btn",children:"Save changes"})}),Object(l.jsx)(a.b,{to:"/agents",children:"Cancel"})]})]}),Object(l.jsx)("img",{src:"/img/Divider.png",className:"img-bottom-border",alt:""})]}),Object(l.jsx)("div",{className:"col-md-2"})]})]})}));var ye=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(a.a,{children:Object(l.jsxs)("div",{className:"d-flex",children:["/"!==window.location.pathname&&localStorage.getItem(u)&&"/change-password-confirm"!==window.location.pathname&&"/user/v1/verify-email/"!==window.location.pathname&&"/forgot-password"!==window.location.pathname?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(r,{})}):"",Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,component:Q}),Object(l.jsx)(o.a,{path:"/forgot-password",exact:!0,component:Ce}),Object(l.jsx)(he,{path:"/tickets",exact:!0,component:me}),Object(l.jsx)(he,{path:"/tickets/all-tickets",exact:!0,component:me}),Object(l.jsx)(he,{path:"/tickets/tickets-to-handle",exact:!0,component:ve}),Object(l.jsx)(he,{path:"/tickets/open-tickets",exact:!0,component:Ne}),Object(l.jsx)(he,{path:"/tickets/last-days",exact:!0,component:we}),Object(l.jsx)(he,{path:"/tickets/new-ticket",exact:!0,component:de}),Object(l.jsx)(o.a,{path:"/user/v1/verify-email/",exact:!0,component:be}),Object(l.jsx)(o.a,{path:"/:change-password-confirm",exact:!0,component:ge}),Object(l.jsx)(he,{path:"/agents",exact:!0,component:J}),Object(l.jsx)(he,{path:"/tickets/commit/:id",exact:!0,component:pe}),Object(l.jsx)(he,{path:"/commit/:id",exact:!0,component:pe}),Object(l.jsx)(he,{path:"/report",exact:!0,component:oe}),Object(l.jsx)(he,{path:"/agents/info-account",exact:!0,component:je}),Object(l.jsx)(he,{path:"/tickets/agents/info-account",exact:!0,component:je}),Object(l.jsx)(he,{path:"/agents/info-account-edit/:id",exact:!0,component:Se}),Object(l.jsx)(he,{path:"/agents/create-team/",exact:!0,component:W}),Object(l.jsx)(he,{path:"/agents/create-agent",exact:!0,component:$})]})]})}),Object(l.jsx)(g.a,{})]})},Te=(c(683),c(684),c(83)),Le=c(34),De={isLoading:!1},Ie={createAgentObject:{},getAccount:{},getAccountForEdit:{},getAllAgentsList:[]},_e={createTeamObject:{},activeAgentslList:[],editModal:!1},Fe={getTickets:[],getOpenTickets:[],getLastDaysTickets:[],getTicketsToHandle:[],ticketStatusList:[],commitList:[],ticketInfoObject:{},pageIndex:1,btc:{},boc:{},bot:{},openCount:[],ClosedCount:[],PendingCount:[],AllCount:[],selectedCommitId:{},subAllTickets:[],subOpen:[],subPending:[],subClosed:[],selectTeamReducer:{},todayNoOpened:{}},Pe=Object(Te.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(Le.a)(Object(Le.a)({},e),{},{isLoading:!e.isLoading});default:return e}},createAgentData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(Le.a)(Object(Le.a)({},e),t.payload);default:return e}},createTeamData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(Le.a)(Object(Le.a)({},e),t.payload);default:return e}},ticketData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(Le.a)(Object(Le.a)({},e),t.payload);default:return e}}}),Be=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,686)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),i(e),a(e)}))},Ee=c(319),ze=Object(Te.d)(Pe,Object(Te.c)(Object(Te.a)(Ee.a)));i.a.render(Object(l.jsx)(P.a,{store:ze,children:Object(l.jsx)(ye,{})}),document.getElementById("root")),Be()}},[[685,1,2]]]);
//# sourceMappingURL=main.1393d86f.chunk.js.map